A tense, heartbreaking story, and then a surprise twist at the end. As eight of Mary Jane Veloso's fellow death row inmates -- mostly foreigners, like her  - including three convicted American drug smugglers -- were put to death on Wednesday morning, she was granted clemency minutes before her scheduled execution. 

A surprise twist at the end. As eight of Mary Jane Veloso's fellow death row inmates -- mostly foreigners, like her  - including three convicted American drug smugglers -- were put to death on Wednesday morning, she was granted clemency minutes before her scheduled execution.

"It is a moment of immense joy," Veloso's family attorney, Julian Peskowitz, said moments after the news broke. 

Peskowitz said he had been trying for months to get Veloso's case moved out of Indonesia and into US federal court, where he believed she would have a better shot at clemency because it was less likely that an American death sentence could be carried out by lethal injection. 

The Indonesian government said in a statement Wednesday that the decision to grant Veloso clemency came after she had met with President Joko Widodo and expressed "deep regrets" for her crimes, which included trafficking more than two kilos of heroin into Indonesia. 

"She apologizes for committing the crime," a government official told CNN. 

Veloso has consistently denied knowing she was smuggling narcotics. But her case raised questions about the effectiveness of the death penalty, since Veloso did not kill anyone. She was convicted in Indonesia under a law that mandates the death penalty for drug trafficking, though executions are rare and only a handful have been carried out in recent years. 

A judge had originally set her scheduled to be executed earlier this month but delayed it after Veloso's lawyer argued she was not mentally fit to face death. The clemency decision came hours before that scheduled date, and just one day after the President of Indonesia Joko Widodo issued a decree commuting the sentences of eight drug offenders who had been condemned to die in order "to build public trust" ahead of the country's upcoming elections, which will take place on April 17.

The decision sparked anger from Indonesia's Justice Minister, Yasonna Laoly, and he issued a statement blaming US President Barack Obama for the delay in executing the eight drug traffickers. He also said Veloso did not have "the right to beg for mercy." 

"The granting of clemency for Mary Jane Flippo is an attack on the rule of law and an insult to the Indonesian people," Laoly said in a statement, adding that her case should be considered a "humanitarian mission" by Obama. "He should consider that some countries are not willing to accept the request from American authorities for death penalty convicts." 

Veloso was arrested at an airport in Yogyakarta on April 29, 2015 after she arrived with a suitcase stuffed full of heroin. She had been working as a domestic helper and nanny for a wealthy family when she met with her dealer to take the suitcases off his hands, believing they contained clothes. When she got home, authorities arrested her. 

In a statement earlier this month, Veloso said she would be willing to face execution in Indonesia if she could return to the US and serve out her death sentence there. "I am not afraid of my own death," she said then. But she added that she wanted to return home. 

Her mother told reporters earlier this week that Veloso had been depressed since being arrested, and had attempted suicide in prison because she feared what might happen to her children if she were executed. 

CNN's Yuliya Talmazan contributed reporting from Jakarta.